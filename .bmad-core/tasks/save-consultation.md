# Save Consultation Task

## Purpose
LÆ°u consultation session hiá»‡n táº¡i vÃ o há»‡ thá»‘ng documentation vá»›i metadata vÃ  summary.

## Workflow Steps

### Step 1: Validate Input
- Kiá»ƒm tra filename parameter cÃ³ há»£p lá»‡ khÃ´ng
- Náº¿u khÃ´ng cÃ³ filename, táº¡o auto-generated name vá»›i format: `consultation-{date}-{time}.md`

### Step 2: Prepare Content Structure
```markdown
# Consultation Session Report

**Date**: {current_date}
**Time**: {current_time}
**Agent**: {agent_name}
**Type**: {consultation_type}

## Session Summary
{auto_generated_summary_of_consultation}

## Key Topics Discussed
{extract_main_topics}

## Recommendations Provided
{list_of_recommendations}

## Action Items
{extract_action_items}

## Full Conversation Log
{complete_conversation_transcript}

---
*Generated by BMAD System - {timestamp}*
```

### Step 3: Create Directory Structure
- Ensure `docs/consultations/` exists
- Create subdirectory by date if needed: `docs/consultations/2024-08/`

### Step 4: Save File
- Save with full metadata and proper formatting
- Confirm successful save with file path

### Step 5: Response
Confirm to user:
```
âœ… Consultation Ä‘Ã£ Ä‘Æ°á»£c lÆ°u thÃ nh cÃ´ng!
ğŸ“ File path: docs/consultations/{filename}
ğŸ“Š Content: {word_count} words, {topic_count} main topics
ğŸ¯ Next steps: {brief_recommendations}
```

## Implementation Notes
- Always use Vietnamese for user communication
- Include comprehensive metadata for search/filtering
- Ensure file names are filesystem-safe
- Create index file if multiple consultations saved