# Save Consultation Task

## Purpose
Lưu consultation session hiện tại vào hệ thống documentation với metadata và summary.

## Workflow Steps

### Step 1: Validate Input
- Kiểm tra filename parameter có hợp lệ không
- Nếu không có filename, tạo auto-generated name với format: `consultation-{date}-{time}.md`

### Step 2: Prepare Content Structure
```markdown
# Consultation Session Report

**Date**: {current_date}
**Time**: {current_time}
**Agent**: {agent_name}
**Type**: {consultation_type}

## Session Summary
{auto_generated_summary_of_consultation}

## Key Topics Discussed
{extract_main_topics}

## Recommendations Provided
{list_of_recommendations}

## Action Items
{extract_action_items}

## Full Conversation Log
{complete_conversation_transcript}

---
*Generated by BMAD System - {timestamp}*
```

### Step 3: Create Directory Structure
- Ensure `docs/consultations/` exists
- Create subdirectory by date if needed: `docs/consultations/2024-08/`

### Step 4: Save File
- Save with full metadata and proper formatting
- Confirm successful save with file path

### Step 5: Response
Confirm to user:
```
✅ Consultation đã được lưu thành công!
📁 File path: docs/consultations/{filename}
📊 Content: {word_count} words, {topic_count} main topics
🎯 Next steps: {brief_recommendations}
```

## Implementation Notes
- Always use Vietnamese for user communication
- Include comprehensive metadata for search/filtering
- Ensure file names are filesystem-safe
- Create index file if multiple consultations saved